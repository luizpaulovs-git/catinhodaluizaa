<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jogo da Velha üê≠</title>

<style>
body {
  margin: 0;
  min-height: 100vh;
  background: linear-gradient(180deg, #0f172a, #020617);
  font-family: Arial, sans-serif;
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
}

.container {
  text-align: center;
  padding: 20px;
}

.tabuleiro {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin: 15px 0;
}

.casa {
  width: 90px;
  height: 90px;
  background: #1e293b;
  border-radius: 15px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.casa img {
  width: 70px;
}

button {
  padding: 10px 20px;
  border: none;
  border-radius: 20px;
  background: #f472b6;
  font-size: 16px;
  cursor: pointer;
}

footer {
  margin-top: 15px;
  font-size: 12px;
  opacity: 0.7;
}
</style>
</head>

<body>
<div class="container">
  <h2>Jogo da Velha üê≠</h2>
  <p id="status">Sua vez ü§ç</p>

  <div class="tabuleiro" id="tabuleiro"></div>

  <button onclick="reiniciar()">Recome√ßar</button>

  <footer>
    feito por mim, pensando em voc√™ ü§ç<br>
    desde 17 de outubro
  </footer>
</div>

<script>
const tabuleiro = document.getElementById("tabuleiro");
const statusTexto = document.getElementById("status");

let casas = Array(9).fill(null);
let jogoAtivo = true;

const combinacoes = [
  [0,1,2],[3,4,5],[6,7,8],
  [0,3,6],[1,4,7],[2,5,8],
  [0,4,8],[2,4,6]
];

function criarTabuleiro() {
  tabuleiro.innerHTML = "";
  casas = Array(9).fill(null);
  jogoAtivo = true;
  statusTexto.innerText = "Sua vez ü§ç";

  for (let i = 0; i < 9; i++) {
    const casa = document.createElement("div");
    casa.classList.add("casa");
    casa.onclick = () => jogar(i, casa);
    tabuleiro.appendChild(casa);
  }
}

function jogar(index, casa) {
  if (!jogoAtivo || casas[index]) return;

  marcarCasa(index, "A", casa);

  if (verificarVitoria("A")) {
    statusTexto.innerText = "Voc√™ venceu üê≠ü§ç";
    jogoAtivo = false;
    return;
  }

  if (casasCheias()) {
    statusTexto.innerText = "Empate üê≠‚ú®";
    jogoAtivo = false;
    return;
  }

  statusTexto.innerText = "Ratinho pensando‚Ä¶ üê≠";
  setTimeout(jogadaMaquina, 600);
}

function jogadaMaquina() {
  let livres = casas
    .map((v, i) => v === null ? i : null)
    .filter(v => v !== null);

  const escolha = livres[Math.floor(Math.random() * livres.length)];
  const casa = tabuleiro.children[escolha];

  marcarCasa(escolha, "B", casa);

  if (verificarVitoria("B")) {
    statusTexto.innerText = "Ratinho venceu üê≠üíó";
    jogoAtivo = false;
    return;
  }

  if (casasCheias()) {
    statusTexto.innerText = "Empate üê≠‚ú®";
    jogoAtivo = false;
    return;
  }

  statusTexto.innerText = "Sua vez ü§ç";
}

function marcarCasa(index, jogador, casa) {
  casas[index] = jogador;

  const img = document.createElement("img");
  img.src = jogador === "A"
    ? "imagens/ratoA.png"
    : "imagens/ratoB.png";

  casa.appendChild(img);
}

function verificarVitoria(jogador) {
  return combinacoes.some(c =>
    c.every(i => casas[i] === jogador)
  );
}

function casasCheias() {
  return casas.every(c => c !== null);
}

function reiniciar() {
  criarTabuleiro();
}

criarTabuleiro();
</script>
</body>
</html>
